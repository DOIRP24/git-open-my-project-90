
!function(){"use strict";const e={baseUrl:"https://sns-welcome.vercel.app",containerId:"sns-welcome-widget",minHeight:"100vh",borderRadius:"0px",boxShadow:"none",background:"#111827"};function t(){const t=`.sns-welcome-widget-container{width:100%;height:100vh;margin:0;padding:0;background:${e.background};border-radius:${e.borderRadius};box-shadow:${e.boxShadow};overflow:hidden;position:relative;min-height:${e.minHeight}}.sns-welcome-widget-iframe{width:100%;height:100%;min-height:${e.minHeight};border:none;border-radius:${e.borderRadius};background:${e.background};display:block}.sns-welcome-widget-loading{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);color:#02a374;font-family:Arial,sans-serif;font-size:16px;z-index:10;text-align:center}.sns-welcome-widget-spinner{border:2px solid #374151;border-top:2px solid #02a374;border-radius:50%;width:30px;height:30px;animation:sns-widget-spin 1s linear infinite;margin:0 auto 10px}@keyframes sns-widget-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}body.sns-widget-fullscreen{margin:0;padding:0;overflow:hidden}body.sns-widget-fullscreen .sns-welcome-widget-container{position:fixed;top:0;left:0;right:0;bottom:0;z-index:9999}@media screen and (max-width: 768px){.sns-welcome-widget-container{height:100vh;min-height:100vh;max-height:100vh}.sns-welcome-widget-iframe{height:100vh;min-height:100vh}}@media screen and (max-height: 600px){.sns-welcome-widget-container{height:100vh;min-height:100vh}.sns-welcome-widget-iframe{height:100vh;min-height:100vh}}`,n=document.createElement("style");n.textContent=t,document.head.appendChild(n)}function n(){return`<div class="sns-welcome-widget-container"><div class="sns-welcome-widget-loading"><div class="sns-welcome-widget-spinner"></div><div>Загрузка Welcome курса...</div></div><iframe class="sns-welcome-widget-iframe" src="${e.baseUrl}" title="SNS Welcome Course" frameborder="0" allowfullscreen allow="autoplay; clipboard-read; clipboard-write; fullscreen; picture-in-picture; web-share" loading="lazy"></iframe></div>`}function i(){document.body.classList.add("sns-widget-fullscreen");const e=document.body.style.overflow;document.body.style.overflow="hidden",window.SNSWelcomeWidget._originalOverflow=e}function o(){const o=document.getElementById(e.containerId);if(!o)return void console.error(`SNS Widget: Контейнер с ID "${e.containerId}" не найден`);t();const a=o.getBoundingClientRect();(a.height>=.8*window.innerHeight||o.closest("body"))&&i(),o.innerHTML=n();const l=o.querySelector(".sns-welcome-widget-iframe"),s=o.querySelector(".sns-welcome-widget-loading");l.addEventListener("load",(function(){s&&(s.style.display="none"),console.log("SNS Welcome Widget успешно загружен")})),l.addEventListener("error",(function(){s&&(s.innerHTML='<div style="text-align: center; color: #ef4444;"><div style="font-size: 20px; margin-bottom: 10px;">⚠️</div><div>Ошибка загрузки виджета</div><div style="font-size: 12px; margin-top: 5px; opacity: 0.7;">Проверьте подключение к интернету</div></div>')})),console.log("SNS Welcome Widget инициализирован")}function a(){document.body.classList.remove("sns-widget-fullscreen"),void 0!==window.SNSWelcomeWidget._originalOverflow&&(document.body.style.overflow=window.SNSWelcomeWidget._originalOverflow);const t=document.getElementById(e.containerId);t&&(t.innerHTML="")}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o):o(),window.SNSWelcomeWidget={init:o,destroy:a,config:e}}();
